{"remainingRequest":"/Users/antonio/Vue-ticket-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antonio/Vue-ticket-manager/src/components/ListUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antonio/Vue-ticket-manager/src/components/ListUsers.vue","mtime":1629443168051},{"path":"/Users/antonio/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js","mtime":1629443163777},{"path":"/Users/antonio/Vue-ticket-manager/node_modules/babel-loader/lib/index.js","mtime":1629443163658},{"path":"/Users/antonio/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js","mtime":1629443163777},{"path":"/Users/antonio/Vue-ticket-manager/node_modules/vue-loader/lib/index.js","mtime":1629443167717}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJyAKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwppbXBvcnQgVnVlQXhpb3MgZnJvbSAndnVlLWF4aW9zJyAgCgpWdWUudXNlKFZ1ZUF4aW9zLCBheGlvcykKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMaXN0VXNlcnMnLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1c2VyczogW10KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdldERhdGEoKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXREYXRhKCkgewogICAgICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS91c2VyL3JvbGUvbm90YWRtaW4iKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudXNlcnMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICAgIH0pIAogICAgICAgIH0sCiAgICAgICAgZGVsZXRlQWNjb3VudChpbmRleCkgewogICAgICAgICAgICBheGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS91c2VyL2RlbGV0ZS8iK3RoaXMudXNlcnNbaW5kZXhdLnVzZXJuYW1lKQogICAgICAgICAgICB0aGlzLiRkZWxldGUodGhpcy51c2VycywgaW5kZXgpCiAgICAgICAgfSwKICAgICAgICBiYWNrQnV0dG9uKCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpCiAgICAgICAgfQogICAgfSwKfQo="},{"version":3,"sources":["ListUsers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListUsers.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <button @click=\"backButton\">Back</button>\n        <h3>List users</h3>\n        <ul style=\"list-style-type:none;\">\n            <li v-for=\"(user, index) in users\" v-bind:key=\"user.username\">\n                {{user.username}} - {{user.firstname}} {{user.lastname}} - {{user.email}} - {{user.role}}\n                <button @click=\"deleteAccount(index)\">Delete User Account</button>\n            </li>\n        </ul>\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue' \nimport axios from 'axios'\nimport VueAxios from 'vue-axios'  \n\nVue.use(VueAxios, axios)\n\nexport default {\n    name: 'ListUsers',\n    data() {\n        return {\n            users: []\n        }\n    },\n    mounted() {\n        this.getData()\n    },\n    methods: {\n        getData() {\n            axios.get(\"http://localhost:8081/user/role/notadmin\")\n            .then((response) => {\n                this.users = response.data\n            }) \n        },\n        deleteAccount(index) {\n            axios.delete(\"http://localhost:8081/user/delete/\"+this.users[index].username)\n            this.$delete(this.users, index)\n        },\n        backButton() {\n            this.$router.go(-1)\n        }\n    },\n}\n</script>\n"]}]}