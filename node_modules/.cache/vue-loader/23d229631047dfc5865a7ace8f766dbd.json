{"remainingRequest":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antoniobelculfine/Vue-ticket-manager/src/components/ListUsers.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antoniobelculfine/Vue-ticket-manager/src/components/ListUsers.vue","mtime":1630595582940},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJyAKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJwppbXBvcnQgVnVlQXhpb3MgZnJvbSAndnVlLWF4aW9zJyAgCgppbXBvcnQgJy4uL2Fzc2V0cy9zdHlsZS9jb21wb25lbnRzL0xpc3RVc2Vycy5jc3MnCgpWdWUudXNlKFZ1ZUF4aW9zLCBheGlvcykKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdMaXN0VXNlcnMnLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1c2VyczogW10KICAgICAgICB9CiAgICB9LAogICAgbW91bnRlZCgpIHsKICAgICAgICB0aGlzLmdldERhdGEoKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXREYXRhKCkgewogICAgICAgICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS91c2VyL3JvbGUvbm90YWRtaW4iKQogICAgICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudXNlcnMgPSByZXNwb25zZS5kYXRhCiAgICAgICAgICAgIH0pIAogICAgICAgIH0sCiAgICAgICAgZGVsZXRlQWNjb3VudChpbmRleCkgewogICAgICAgICAgICBheGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4MS91c2VyL2RlbGV0ZS8iK3RoaXMudXNlcnNbaW5kZXhdLnVzZXJuYW1lKQogICAgICAgICAgICB0aGlzLiRkZWxldGUodGhpcy51c2VycywgaW5kZXgpCiAgICAgICAgfSwKICAgICAgICBiYWNrQnV0dG9uKCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpCiAgICAgICAgfQogICAgfSwKfQo="},{"version":3,"sources":["ListUsers.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ListUsers.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div>\n        <h3 id=\"title-user\">List users</h3>\n        <table id=\"user-table\">\n            <tr>\n                <th>Username</th>\n                <th>First name</th>\n                <th>Last name</th>\n                <th>Email</th>\n                <th>Role</th>\n                <th></th>\n            </tr>\n            <tr v-for=\"(user, index) in users\" v-bind:key=\"user.username\">\n                <td>{{user.username}}</td>\n                <td>{{user.firstname}}</td>\n                <td>{{user.lastname}}</td>\n                <td>{{user.email}}</td>\n                <td>{{user.role}}</td>\n                <td><button id=\"delete-button\" @click=\"deleteAccount(index)\">Delete user account</button></td>\n            </tr>\n        </table>\n        <button @click=\"backButton\" id=\"back-button\">Back</button>\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue' \nimport axios from 'axios'\nimport VueAxios from 'vue-axios'  \n\nimport '../assets/style/components/ListUsers.css'\n\nVue.use(VueAxios, axios)\n\nexport default {\n    name: 'ListUsers',\n    data() {\n        return {\n            users: []\n        }\n    },\n    mounted() {\n        this.getData()\n    },\n    methods: {\n        getData() {\n            axios.get(\"http://localhost:8081/user/role/notadmin\")\n            .then((response) => {\n                this.users = response.data\n            }) \n        },\n        deleteAccount(index) {\n            axios.delete(\"http://localhost:8081/user/delete/\"+this.users[index].username)\n            this.$delete(this.users, index)\n        },\n        backButton() {\n            this.$router.go(-1)\n        }\n    },\n}\n</script>\n"]}]}