{"remainingRequest":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/babel-loader/lib/index.js!/Users/antoniobelculfine/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/antoniobelculfine/Vue-ticket-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antoniobelculfine/Vue-ticket-manager/src/components/ListAssets.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antoniobelculfine/Vue-ticket-manager/src/components/ListAssets.vue","mtime":1630596810729},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgVnVlQXhpb3MgZnJvbSAndnVlLWF4aW9zJzsKaW1wb3J0IFZ1ZWxpZGF0ZSBmcm9tICd2dWVsaWRhdGUnOwppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJ3Z1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyc7CmltcG9ydCAnLi4vYXNzZXRzL3N0eWxlL2NvbXBvbmVudHMvTGlzdEFzc2V0cy5jc3MnOwpWdWUudXNlKFZ1ZUF4aW9zLCBheGlvcyk7ClZ1ZS51c2UoVnVlbGlkYXRlKTsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMaXN0QXNzZXRzJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXNzZXRzOiBbXSwKICAgICAgbmV3TmFtZTogJycsCiAgICAgIG5ld1N0YXR1czogJycsCiAgICAgIGJ1dHRvblRleHQ6ICdDcmVhdGUgbmV3IGFzc2V0JwogICAgfTsKICB9LAogIHZhbGlkYXRpb25zOiB7CiAgICBuZXdOYW1lOiB7CiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgfSwKICAgIG5ld1N0YXR1czogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4Mi9hc3NldC8iKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmFzc2V0cyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGRlbGV0ZUFzc2V0OiBmdW5jdGlvbiBkZWxldGVBc3NldChpbmRleCkgewogICAgICBheGlvcy5kZWxldGUoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4Mi9hc3NldC9kZWxldGUvIiArIHRoaXMuYXNzZXRzW2luZGV4XS5pZCk7CiAgICAgIHRoaXMuJGRlbGV0ZSh0aGlzLmFzc2V0cywgaW5kZXgpOwogICAgfSwKICAgIGVkaXRBc3NldDogZnVuY3Rpb24gZWRpdEFzc2V0KGluZGV4KSB7CiAgICAgIGlmICh0aGlzLmFzc2V0c1tpbmRleF0uc3RhdHVzID09ICJvcGVyYXRpbmciKSB7CiAgICAgICAgdGhpcy5hc3NldHNbaW5kZXhdLnN0YXR1cyA9ICJvdXQgb2Ygc2VydmljZSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hc3NldHNbaW5kZXhdLnN0YXR1cyA9ICJvcGVyYXRpbmciOwogICAgICB9CgogICAgICBheGlvcy5wdXQoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4Mi9hc3NldC91cGRhdGUvIiArIHRoaXMuYXNzZXRzW2luZGV4XS5pZCwgewogICAgICAgIHN0YXR1czogdGhpcy5hc3NldHNbaW5kZXhdLnN0YXR1cwogICAgICB9KTsKICAgIH0sCiAgICBvcGVuQXNzZXRGb3JtOiBmdW5jdGlvbiBvcGVuQXNzZXRGb3JtKCkgewogICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JtQXNzZXQiKTsKCiAgICAgIGlmICh4LnN0eWxlLmRpc3BsYXkgPT0gIm5vbmUiKSB7CiAgICAgICAgeC5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIjsKICAgICAgICB0aGlzLmJ1dHRvblRleHQgPSAiQ2xvc2UiOwogICAgICB9IGVsc2UgewogICAgICAgIHguc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB0aGlzLmJ1dHRvblRleHQgPSAiQ3JlYSBuZXcgYXNzZXQiOwogICAgICB9CiAgICB9LAogICAgcG9zdERhdGE6IGZ1bmN0aW9uIHBvc3REYXRhKCkgewogICAgICB0aGlzLiR2LiR0b3VjaCgpOwoKICAgICAgaWYgKHRoaXMubmV3TmFtZSAmJiB0aGlzLm5ld1N0YXR1cykgewogICAgICAgIGF4aW9zLnBvc3QoImh0dHA6Ly9sb2NhbGhvc3Q6ODA4Mi9hc3NldC9uZXciLCB7CiAgICAgICAgICBuYW1lOiB0aGlzLm5ld05hbWUsCiAgICAgICAgICBzdGF0dXM6IHRoaXMubmV3U3RhdHVzCiAgICAgICAgfSwgewogICAgICAgICAgaGVhZGVyczogewogICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCcKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICB2YXIgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJmb3JtQXNzZXQiKTsKICAgICAgICB4LnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgdGhpcy5nZXREYXRhKCk7CiAgICAgICAgdGhpcy5nZXREYXRhKCk7IC8vd2h5Pz8KCiAgICAgICAgdGhpcy5uZXdOYW1lID0gJyc7CiAgICAgICAgdGhpcy5uZXdTdGF0dXMgPSAnJzsKICAgICAgICB0aGlzLmJ1dHRvblRleHQgPSAnQ3JlYXRlIG5ldyBhc3NldCc7CiAgICAgICAgdGhpcy4kdi4kcmVzZXQoKTsKICAgICAgfQogICAgfSwKICAgIGJhY2tCdXR0b246IGZ1bmN0aW9uIGJhY2tCdXR0b24oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["ListAssets.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div>\n            <button @click=\"openAssetForm\" id=\"new-asset\">{{buttonText}}</button>\n            <div id=\"formAsset\" style=\"display: none;\">\n                <form @submit.prevent=\"postData\" method=\"post\" id=\"newAsset\">\n                    <div class=\"form-group\">\n                        <input id=\"name-asset\" type=\"text\" name=\"name\" placeholder=\"Name asset\" v-model=\"newName\" class=\"form-control\"><br>\n                        <span v-if=\"!$v.newName.required && $v.newName.$dirty\" class=\"text-danger\">Name asset is required!</span>\n                    </div>\n                    <div class=\"form-group\">\n                        <select id=\"select-status\" v-model=\"newStatus\" class=\"form-control\">\n                            <option value=\"\" disabled selected>Select status</option>\n                            <option value=\"operating\">Operative</option>\n                            <option value=\"out of service\">Out of service</option>\n                        </select><br>\n                        <span v-if=\"!$v.newStatus.required && $v.newStatus.$dirty\" class=\"text-danger\">Status asset is required!</span>\n                    </div>\n                    <button id=\"confirm-asset\" type=\"submit\">Confirm</button>\n                </form>\n            </div>\n        </div>\n\n        <div id=\"assetsList\">\n            <table id=\"table-assets\">\n                <tr>\n                    <th>ID</th>\n                    <th>Name</th>\n                    <th>Status</th>\n                </tr>\n                <tr v-for=\"(asset, index) in assets\" v-bind:key=\"asset.asset_id\">\n                    <td>{{asset.id}}</td>\n                    <td>{{asset.name}}</td>\n                    <td>{{asset.status}}</td>\n                    <td><button id=\"delete-asset\" @click=\"deleteAsset(index)\">Delete asset</button></td>\n                </tr>\n            </table>\n        </div>\n        <button id=\"back-asset\" @click=\"backButton\">Back</button>\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue' \nimport axios from 'axios'\nimport VueAxios from 'vue-axios'  \nimport Vuelidate from 'vuelidate'\nimport {required} from 'vuelidate/lib/validators'\n\nimport '../assets/style/components/ListAssets.css'\n\nVue.use(VueAxios, axios)\nVue.use(Vuelidate)\n\nexport default {\n    name: 'ListAssets',\n    data() {\n        return {\n            assets: [],\n            newName: '',\n            newStatus: '',\n            buttonText: 'Create new asset'\n        }\n    },\n    validations: {\n        newName: {required},\n        newStatus: {required}\n    },\n    mounted() {\n        this.getData()\n    },\n    methods: {\n        getData() {\n            axios.get(\"http://localhost:8082/asset/\")\n            .then((response) => {\n                this.assets = response.data\n            })\n        },\n        deleteAsset(index) {\n            axios.delete(\"http://localhost:8082/asset/delete/\"+this.assets[index].id)\n            this.$delete(this.assets, index)\n        },\n        editAsset(index) {\n            if(this.assets[index].status == \"operating\") {\n                this.assets[index].status = \"out of service\"\n            } else {\n                this.assets[index].status = \"operating\"\n            }\n            axios.put(\"http://localhost:8082/asset/update/\"+this.assets[index].id, {status: this.assets[index].status})\n        },\n        openAssetForm() {\n            var x = document.getElementById(\"formAsset\")\n            if(x.style.display == \"none\") {\n                x.style.display = \"block\"\n                this.buttonText = \"Close\"\n            } else {\n                x.style.display = \"none\"\n                this.buttonText = \"Crea new asset\"\n            }\n        },\n        postData() {\n            this.$v.$touch();\n            if(this.newName && this.newStatus) {\n                axios.post(\"http://localhost:8082/asset/new\", {name: this.newName, status: this.newStatus},{headers:{'Content-Type' : 'application/json;charset=utf-8'}})\n                var x = document.getElementById(\"formAsset\")\n                x.style.display = \"none\"   \n                \n                this.getData()\n                this.getData() //why??\n\n                this.newName = ''\n                this.newStatus = ''\n                this.buttonText = 'Create new asset'\n                this.$v.$reset();\n            } \n        },\n        backButton() {\n            this.$router.go(-1)\n        }\n    }\n}\n</script>\n\n"],"sourceRoot":"src/components"}]}