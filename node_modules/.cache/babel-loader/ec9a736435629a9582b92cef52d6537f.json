{"remainingRequest":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/babel-loader/lib/index.js!/Users/antoniobelculfine/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/antoniobelculfine/Vue-ticket-manager/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/antoniobelculfine/Vue-ticket-manager/src/components/ListAssets.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/antoniobelculfine/Vue-ticket-manager/src/components/ListAssets.vue","mtime":1629359368447},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/antoniobelculfine/Vue-ticket-manager/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgVnVlQXhpb3MgZnJvbSAndnVlLWF4aW9zJzsKaW1wb3J0IFZ1ZWxpZGF0ZSBmcm9tICd2dWVsaWRhdGUnOwppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gJ3Z1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyc7ClZ1ZS51c2UoVnVlQXhpb3MsIGF4aW9zKTsKVnVlLnVzZShWdWVsaWRhdGUpOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xpc3RBc3NldHMnLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhc3NldHM6IFtdLAogICAgICBuZXdOYW1lOiAnJywKICAgICAgbmV3U3RhdHVzOiAnJywKICAgICAgYnV0dG9uVGV4dDogJ0NyZWF0ZSBuZXcgYXNzZXQnCiAgICB9OwogIH0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIG5ld05hbWU6IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkCiAgICB9LAogICAgbmV3U3RhdHVzOiB7CiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgiaHR0cDovL2xvY2FsaG9zdDo4MDgyL2Fzc2V0LyIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuYXNzZXRzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZGVsZXRlQXNzZXQ6IGZ1bmN0aW9uIGRlbGV0ZUFzc2V0KGluZGV4KSB7CiAgICAgIGF4aW9zLmRlbGV0ZSgiaHR0cDovL2xvY2FsaG9zdDo4MDgyL2Fzc2V0L2RlbGV0ZS8iICsgdGhpcy5hc3NldHNbaW5kZXhdLmlkKTsKICAgICAgdGhpcy4kZGVsZXRlKHRoaXMuYXNzZXRzLCBpbmRleCk7CiAgICB9LAogICAgZWRpdEFzc2V0OiBmdW5jdGlvbiBlZGl0QXNzZXQoaW5kZXgpIHsKICAgICAgaWYgKHRoaXMuYXNzZXRzW2luZGV4XS5zdGF0dXMgPT0gIm9wZXJhdGluZyIpIHsKICAgICAgICB0aGlzLmFzc2V0c1tpbmRleF0uc3RhdHVzID0gIm91dCBvZiBzZXJ2aWNlIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFzc2V0c1tpbmRleF0uc3RhdHVzID0gIm9wZXJhdGluZyI7CiAgICAgIH0KCiAgICAgIGF4aW9zLnB1dCgiaHR0cDovL2xvY2FsaG9zdDo4MDgyL2Fzc2V0L3VwZGF0ZS8iICsgdGhpcy5hc3NldHNbaW5kZXhdLmlkLCB7CiAgICAgICAgc3RhdHVzOiB0aGlzLmFzc2V0c1tpbmRleF0uc3RhdHVzCiAgICAgIH0pOwogICAgfSwKICAgIG9wZW5Bc3NldEZvcm06IGZ1bmN0aW9uIG9wZW5Bc3NldEZvcm0oKSB7CiAgICAgIHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm1Bc3NldCIpOwoKICAgICAgaWYgKHguc3R5bGUuZGlzcGxheSA9PSAibm9uZSIpIHsKICAgICAgICB4LnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICAgIHRoaXMuYnV0dG9uVGV4dCA9ICJDbG9zZSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgeC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgIHRoaXMuYnV0dG9uVGV4dCA9ICJDcmVhIG5ldyBhc3NldCI7CiAgICAgIH0KICAgIH0sCiAgICBwb3N0RGF0YTogZnVuY3Rpb24gcG9zdERhdGEoKSB7CiAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CgogICAgICBpZiAodGhpcy5uZXdOYW1lICYmIHRoaXMubmV3U3RhdHVzKSB7CiAgICAgICAgYXhpb3MucG9zdCgiaHR0cDovL2xvY2FsaG9zdDo4MDgyL2Fzc2V0L25ldyIsIHsKICAgICAgICAgIG5hbWU6IHRoaXMubmV3TmFtZSwKICAgICAgICAgIHN0YXR1czogdGhpcy5uZXdTdGF0dXMKICAgICAgICB9LCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04JwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIHZhciB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImZvcm1Bc3NldCIpOwogICAgICAgIHguc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgICAgICB0aGlzLmdldERhdGEoKTsKICAgICAgICB0aGlzLmdldERhdGEoKTsgLy93aHk/PwoKICAgICAgICB0aGlzLm5ld05hbWUgPSAnJzsKICAgICAgICB0aGlzLm5ld1N0YXR1cyA9ICcnOwogICAgICAgIHRoaXMuJHYuJHJlc2V0KCk7CiAgICAgIH0KICAgIH0sCiAgICBiYWNrQnV0dG9uOiBmdW5jdGlvbiBiYWNrQnV0dG9uKCkgewogICAgICB0aGlzLiRyb3V0ZXIuZ28oLTEpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ListAssets.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div>\n        <div>\n            <button @click=\"backButton\">Back</button>\n            <button @click=\"openAssetForm\">{{buttonText}}</button>\n            <div id=\"formAsset\" style=\"display: none;\">\n                <form @submit.prevent=\"postData\" method=\"post\" id=\"newAsset\">\n                    <div class=\"form-group\">\n                        <br>\n                        <input type=\"text\" name=\"name\" placeholder=\"Name asset\" v-model=\"newName\" class=\"form-control\">\n                        <span v-if=\"!$v.newName.required && $v.newName.$dirty\" class=\"text-danger\">Name asset is required!</span><br>\n                    </div>\n                    <div class=\"form-group\">\n                        <select v-model=\"newStatus\" class=\"form-control\">\n                            <option value=\"\" disabled selected>Select status</option>\n                            <option value=\"operative\">Operative</option>\n                            <option value=\"notOperative\">Out of order</option>\n                        </select>\n                        <span v-if=\"!$v.newStatus.required && $v.newStatus.$dirty\" class=\"text-danger\">Status asset is required!</span><br>\n                    </div>\n                    <button type=\"submit\">Confirm</button><br>\n                </form>\n            </div>\n        </div>\n\n        <div id=\"assetsList\">\n            <ul style=\"list-style-type:none;\" >\n                <li v-for=\"(asset, index) in assets\" v-bind:key=\"asset.asset_id\">\n                {{asset.id}} - {{asset.name}} - Status: {{asset.status}}\n                <button @click=\"deleteAsset(index)\">Delete asset</button>\n                </li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Vue from 'vue' \nimport axios from 'axios'\nimport VueAxios from 'vue-axios'  \nimport Vuelidate from 'vuelidate'\nimport {required} from 'vuelidate/lib/validators'\n\nVue.use(VueAxios, axios)\nVue.use(Vuelidate)\n\nexport default {\n    name: 'ListAssets',\n    data() {\n        return {\n            assets: [],\n            newName: '',\n            newStatus: '',\n            buttonText: 'Create new asset'\n        }\n    },\n    validations: {\n        newName: {required},\n        newStatus: {required}\n    },\n    mounted() {\n        this.getData()\n    },\n    methods: {\n        getData() {\n            axios.get(\"http://localhost:8082/asset/\")\n            .then((response) => {\n                this.assets = response.data\n            })\n        },\n        deleteAsset(index) {\n            axios.delete(\"http://localhost:8082/asset/delete/\"+this.assets[index].id)\n            this.$delete(this.assets, index)\n        },\n        editAsset(index) {\n            if(this.assets[index].status == \"operating\") {\n                this.assets[index].status = \"out of service\"\n            } else {\n                this.assets[index].status = \"operating\"\n            }\n            axios.put(\"http://localhost:8082/asset/update/\"+this.assets[index].id, {status: this.assets[index].status})\n        },\n        openAssetForm() {\n            var x = document.getElementById(\"formAsset\")\n            if(x.style.display == \"none\") {\n                x.style.display = \"block\"\n                this.buttonText = \"Close\"\n            } else {\n                x.style.display = \"none\"\n                this.buttonText = \"Crea new asset\"\n            }\n        },\n        postData() {\n            this.$v.$touch();\n            if(this.newName && this.newStatus) {\n                axios.post(\"http://localhost:8082/asset/new\", {name: this.newName, status: this.newStatus},{headers:{'Content-Type' : 'application/json;charset=utf-8'}})\n                var x = document.getElementById(\"formAsset\")\n                x.style.display = \"none\"   \n                \n                this.getData()\n                this.getData() //why??\n\n                this.newName = ''\n                this.newStatus = ''\n                this.$v.$reset();\n            } \n        },\n        backButton() {\n            this.$router.go(-1)\n        }\n    }\n}\n</script>\n\n<style>\n#assetsList {\n  overflow: scroll;\n  height: 50vh;\n}\n</style>"],"sourceRoot":"src/components"}]}